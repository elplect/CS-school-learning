# 视觉格式化模型

## 定位

**定位:手动控制元素在包含块中到精准位置**
本来控制对象在包含块的移动，要靠padding、margin、float来控制

### 涉及的CSS属性：position

- 默认值：static、静态定位(不定位)
- relative：相对定位
- absolute：绝对定位
- fixed：固定定位

一个元素，只要position的取值不是static，认为该元素是一个定位元素

定位元素会脱离文档流(相对定位除外),浮动也会。常规流就是文档流。

**一个脱离了文档流的元素**

1. 文档流中的元素摆放时，会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素(高度坍塌)

### 相对定位

**不会导致元素脱离文档流**，只是让元素在原来位置上进行偏移
之前是常规流元素，之后还是常规流
之前是浮动元素，之后还是浮动

可以通过 **四个CSS属性** 对其进行设置位置：
- left
- right
- top
- bottom

盒子的偏移不会对其他盒子造成任何影响。
左上 优先级大于 右下

## 绝对定位

1. 宽高为auto，适应内容
2. 包含块变化：**找祖先第一个定位元素，该元素的填充盒为其包含块**,找不到，则它的包含块为整个网页(初始化包含块)

## 固定定位

其他情况和绝对定位完全一样

包含块不同：固定为视口(浏览器的可视窗口)
弹窗广告就是它做的

## 定位下的居中

某个方向居中
1. 定宽(高)
2. 将左右(上下)距离设置为0
3. 将左右(上下)margin设置为auto
   
> 绝对定位和固定定位，margin为auto时，会自动吸收剩余空间

## 多个定位元素重叠时

增叠上下文 细节太多，也不怎么用

**设置z-index，通常情况下，该值越大越靠近用户**

只有定位元素设置z-index有效

**z-index可以是负数，如果是负数，则遇到常规流、浮动元素，会被覆盖**

## 补充

- 绝对定位、固定定位元素一定是块盒
- 相对定位，原来是什么，后面还是什么
- 绝对定位、固定定位元素一定不是浮动
- 浮动也一定是块盒
- 没有外边距合并，浮动也没有，常规流有

