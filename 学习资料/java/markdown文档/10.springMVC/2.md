### 响应数据和结果视图

#### 1.返回值类型

1. 返回字符串

   1. Controller方法返回字符串可以指定逻辑视图的名称，根据视图解析器为物理视图的地址

      ```java
      @RequestMapping("/hello")
      public String sayHello() {
        System.out.println("hello");
        return "success";
        // 指的是返回这个字符串
      }
      ```

2. 返回void 

   1. 使用

      ```html
      <a href="user/testVoid">
      ```

      ```java
      @RequestMapping("/testVoid")
      public void testVoid(Model model) {
        println("testVoid....");
       //这时候会请求 /WEB-INF/pages/user/testVoid.jsp
      }
      // 是用来用原生的api的,不会再用spring提供的视图解析器
      @RequestMapping("user/testVoid")
      public void testVoid(req,res) {
        res.getRequestDispatcher
          ("/WEB-INF/pages/success.jsp")
          .forward(req,res);
      }
      ```

3. 返回ModelAndView

   1. ModelAndView是Spring提供的一个对象，可以用来调整具体的JSP视图。和返回String没什么区别，只是换了种写法。

      ```java
      public ModelAndVIew findAll()throws Exception{
        ModelAndView mv = new ModelAndView();
        // 模拟从数据库中查询用户信息
        List<User> users=new ArrayList<>();
        User user = users[0];
        mv.setAttribute("user",user);
         // 底层是Model，存入request域中
        // 跳转到list.jsp的页面
        mv.setViewName("list");
      }
      ```

#### 2.SprngMVC框架提供的转发和重定向

返回forward/redirect

```java
@RequestMapping("/forward")
public String testForward() {
  System.out.println("hello");
  return "forward:WEB-INF/pages/success.jsp";
  return "redirect:/index.jsp";
  // 重定向请求不到WEB-INF目录下的路径
}
```

#### 3.ResponseBody响应json数据

1. DispatcherServlet会拦截到所有的资源，导致一个问题就是静态资源(img/css/js)也会被拦截到，从而不能被使用，解决问题就是需要配置静态资源不进行拦截，在springmvc.xml配置文件添加如下配置:

   1. mvc:resource标签配置不过滤

      1. location元素标识webapp目录下的包下的所有文件
      2. mapping表示以/static开头的所有请求路径

      ```xml
      <mvc:resources location="/css/"
      ```

      

### SpringMVC实现文件上传

#### 1.文件上传的回顾



#### 2.SpringMVC传统方式文件上传



#### 3.SpringMVC跨服务器方式文件上传



### SPringMVC的异常处理

#### 1.异常处理思路



#### 2.SpringMVC的异常处理